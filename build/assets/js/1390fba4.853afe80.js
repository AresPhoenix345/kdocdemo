"use strict";(globalThis.webpackChunkkubestellar_docs_initiative=globalThis.webpackChunkkubestellar_docs_initiative||[]).push([[3595],{5627(e,n,s){s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>h,frontMatter:()=>c,metadata:()=>r,toc:()=>o});const r=JSON.parse('{"id":"architecture/its","title":"Inventory and Transport Space (ITS)","description":"What is an ITS?","source":"@site/docs/architecture/its.md","sourceDirName":"architecture","slug":"/architecture/its","permalink":"/docs/architecture/its","draft":false,"unlisted":false,"editUrl":"https://github.com/kubestellar/kubestellar/edit/main/kdemo/docs/architecture/its.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Workload Description Space (WDS)","permalink":"/docs/architecture/wds"},"next":{"title":"Workload Execution Clusters (WECs)","permalink":"/docs/architecture/wecs"}}');var t=s(4848),i=s(8453);const c={},l="Inventory and Transport Space (ITS)",a={},o=[{value:"What is an ITS?",id:"what-is-an-its",level:2},{value:"What Lives in an ITS?",id:"what-lives-in-an-its",level:2},{value:"Creating an ITS",id:"creating-an-its",level:2},{value:"Registering WECs (at a glance)",id:"registering-wecs-at-a-glance",level:2},{value:"Labeling Strategy (the key to safe placement)",id:"labeling-strategy-the-key-to-safe-placement",level:2},{value:"Next Steps",id:"next-steps",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"inventory-and-transport-space-its",children:"Inventory and Transport Space (ITS)"})}),"\n",(0,t.jsx)(n.h2,{id:"what-is-an-its",children:"What is an ITS?"}),"\n",(0,t.jsxs)(n.p,{children:["An ",(0,t.jsx)(n.strong,{children:"Inventory and Transport Space (ITS)"})," is a Kubernetes-like API server with storage that provides two critical capabilities:"]}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Inventory"}),": tracks which WECs exist and what they are (labels/capabilities)"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Transport"}),": delivers desired objects from WDS to the appropriate WECs (via OCM)"]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"what-lives-in-an-its",children:"What Lives in an ITS?"}),"\n",(0,t.jsx)(n.p,{children:"Common contents:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsxs)(n.strong,{children:[(0,t.jsx)(n.code,{children:"ManagedCluster"})," objects"]})," (OCM) representing each registered WEC"]}),"\n",(0,t.jsxs)(n.li,{children:["A ",(0,t.jsx)(n.strong,{children:"mailbox namespace per WEC"})," containing ",(0,t.jsx)(n.code,{children:"ManifestWork"})," objects"]}),"\n",(0,t.jsxs)(n.li,{children:["A ",(0,t.jsx)(n.code,{children:"customization-properties"})," namespace with WEC properties used for customization/transforms"]}),"\n",(0,t.jsx)(n.li,{children:"OCM cluster manager components"}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"creating-an-its",children:"Creating an ITS"}),"\n",(0,t.jsx)(n.p,{children:"Typical options:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"Core Helm chart"}),":"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'helm upgrade --install ks-core oci://ghcr.io/kubestellar/kubestellar/core-chart \\\r\n  --set-json=\'ITSes=[{"name":"its1","type":"vcluster"}]\'\n'})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"KubeFlex CLI"}),":"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"kflex create its1 --type vcluster -p ocm\n"})}),"\n",(0,t.jsx)(n.h2,{id:"registering-wecs-at-a-glance",children:"Registering WECs (at a glance)"}),"\n",(0,t.jsx)(n.p,{children:"WEC registration connects clusters to the ITS so they can receive workloads:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"kubectl --context its1 get managedclusters\r\nclusteradm --context its1 get token\n"})}),"\n",(0,t.jsxs)(n.p,{children:["After join/accept, ",(0,t.jsx)(n.code,{children:"ManagedCluster"})," should become ",(0,t.jsx)(n.code,{children:"Available"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"labeling-strategy-the-key-to-safe-placement",children:"Labeling Strategy (the key to safe placement)"}),"\n",(0,t.jsx)(n.p,{children:"Cluster labels are your \u201cplacement API\u201d. Recommended baseline labels:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"environment"}),": ",(0,t.jsx)(n.code,{children:"dev"})," / ",(0,t.jsx)(n.code,{children:"staging"})," / ",(0,t.jsx)(n.code,{children:"prod"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"region"}),": ",(0,t.jsx)(n.code,{children:"us-east-1"}),", ",(0,t.jsx)(n.code,{children:"eu-west-1"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"provider"}),": ",(0,t.jsx)(n.code,{children:"aws"})," / ",(0,t.jsx)(n.code,{children:"gcp"})," / ",(0,t.jsx)(n.code,{children:"azure"})," / ",(0,t.jsx)(n.code,{children:"onprem"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"location-group"}),": ",(0,t.jsx)(n.code,{children:"edge"})," / ",(0,t.jsx)(n.code,{children:"core"})]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.code,{children:"ring"}),": ",(0,t.jsx)(n.code,{children:"canary"})," / ",(0,t.jsx)(n.code,{children:"stable"})]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["These labels power BindingPolicy ",(0,t.jsx)(n.code,{children:"clusterSelectors"}),"."]}),"\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Read ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/architecture/wecs",children:"WECs"})})," for WEC requirements and registration concepts"]}),"\n",(0,t.jsxs)(n.li,{children:["Read ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.a,{href:"/docs/architecture/binding-policy",children:"BindingPolicy"})})," to see how cluster selection works"]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453(e,n,s){s.d(n,{R:()=>c,x:()=>l});var r=s(6540);const t={},i=r.createContext(t);function c(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);