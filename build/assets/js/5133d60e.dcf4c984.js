"use strict";(globalThis.webpackChunkkubestellar_docs_initiative=globalThis.webpackChunkkubestellar_docs_initiative||[]).push([[268],{6539(e,n,s){s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>h,frontMatter:()=>c,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"troubleshooting/common-issues","title":"Common Issues (20)","description":"This page contains 20 common issues encountered when installing and operating KubeStellar. Each entry includes symptoms, logs, root cause, resolution, prevention, and related commands.","source":"@site/docs/troubleshooting/common-issues.md","sourceDirName":"troubleshooting","slug":"/troubleshooting/common-issues","permalink":"/docs/troubleshooting/common-issues","draft":false,"unlisted":false,"editUrl":"https://github.com/kubestellar/kubestellar/edit/main/kdemo/docs/troubleshooting/common-issues.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Troubleshooting Guide","permalink":"/docs/troubleshooting/"},"next":{"title":"Error Reference","permalink":"/docs/troubleshooting/error-reference"}}');var i=s(4848),r=s(8453);const c={},t="Common Issues (20)",o={},d=[{value:"Issue #1: WEC Registration Fails",id:"issue-1-wec-registration-fails",level:3},{value:"Issue #2: Helm Chart Installation Fails",id:"issue-2-helm-chart-installation-fails",level:3},{value:"Issue #3: Context Creation Fails",id:"issue-3-context-creation-fails",level:3},{value:"Issue #4: Version Compatibility Issues",id:"issue-4-version-compatibility-issues",level:3},{value:"Issue #5: BindingPolicy Not Working",id:"issue-5-bindingpolicy-not-working",level:3},{value:"Issue #6: BindingPolicy Not Matching Objects",id:"issue-6-bindingpolicy-not-matching-objects",level:3},{value:"Issue #7: BindingPolicy Not Matching Clusters",id:"issue-7-bindingpolicy-not-matching-clusters",level:3},{value:"Issue #8: Namespace Exists in WDS but Not on WECs",id:"issue-8-namespace-missing-on-wecs",level:3},{value:"Issue #9: Status Collection Not Working",id:"issue-9-status-collection-not-working",level:3},{value:"Issue #10: Workload Synchronization Issues",id:"issue-10-workload-synchronization-issues",level:3},{value:"Issue #11: CRD Synchronization Problems",id:"issue-11-crd-synchronization-problems",level:3},{value:"Issue #12: Helm Chart Deployment Issues",id:"issue-12-helm-chart-deployment-issues",level:3},{value:"Issue #13: Transform Configuration Errors",id:"issue-13-transform-configuration-errors",level:3},{value:"Issue #14: Network Policies Blocking Traffic",id:"issue-14-network-policies-blocking-traffic",level:3},{value:"Issue #15: OCM Agent Connection Issues",id:"issue-15-ocm-agent-connection-issues",level:3},{value:"Issue #16: Authentication/Authorization Errors",id:"issue-16-auth-authorization",level:3},{value:"Issue #17: Multi-Tenancy Conflicts (Quota + Namespace)",id:"issue-17-multi-tenancy-conflicts",level:3},{value:"Issue #18: Storage Issues",id:"issue-18-storage-issues",level:3},{value:"Issue #19: Upgrade Problems",id:"issue-19-upgrade-problems",level:3},{value:"Issue #20: Cleanup and Uninstallation",id:"issue-20-cleanup-and-uninstallation",level:3}];function a(e){const n={blockquote:"blockquote",code:"code",h1:"h1",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"common-issues-20",children:"Common Issues (20)"})}),"\n",(0,i.jsxs)(n.p,{children:["This page contains ",(0,i.jsx)(n.strong,{children:"20 common issues"})," encountered when installing and operating KubeStellar. Each entry includes symptoms, logs, root cause, resolution, prevention, and related commands."]}),"\n",(0,i.jsxs)(n.blockquote,{children:["\n",(0,i.jsxs)(n.p,{children:["Tip: Start by confirming which context you\u2019re targeting (",(0,i.jsx)(n.code,{children:"wds1"})," vs ",(0,i.jsx)(n.code,{children:"its1"})," vs a WEC context) and collecting logs from the controller pods in the hosting cluster namespace (commonly ",(0,i.jsx)(n.code,{children:"kubeflex-system"}),")."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"issue-1-wec-registration-fails",children:"Issue #1: WEC Registration Fails"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptoms"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"clusteradm join"})," fails or times out"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ManagedCluster"})," status stays ",(0,i.jsx)(n.code,{children:"Unknown"})," / ",(0,i.jsx)(n.code,{children:"Offline"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Log Signature"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-log",children:"ERROR unable to join cluster: connection refused\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Root Cause"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"WEC cannot reach ITS API endpoint"}),"\n",(0,i.jsxs)(n.li,{children:["Wrong hub API server passed to ",(0,i.jsx)(n.code,{children:"clusteradm join"})]}),"\n",(0,i.jsx)(n.li,{children:"Firewall / proxy blocks OCM traffic"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Resolution Steps"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Confirm ITS endpoint:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl config view --minify -o jsonpath='{.clusters[0].cluster.server}' --context its1\r\necho\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"From the WEC, test connectivity (best-effort):"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'curl -k "$(kubectl config view -o jsonpath=\'{.clusters[?(@.name=="its1")].cluster.server}\')" || true\n'})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsx)(n.li,{children:"Re-run join with the correct hub apiserver/token."}),"\n",(0,i.jsx)(n.li,{children:"Verify OCM agent namespaces/pods exist on the WEC."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Prevention"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Validate network reachability before joining"}),"\n",(0,i.jsx)(n.li,{children:"Keep a small script that prints hub endpoint + token status"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Related Commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get managedclusters --context its1\r\nclusteradm get token --context its1\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"issue-2-helm-chart-installation-fails",children:"Issue #2: Helm Chart Installation Fails"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptoms"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"helm upgrade --install ... oci://ghcr.io/..."})," fails"]}),"\n",(0,i.jsx)(n.li,{children:"Helm cannot pull chart or images"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Log Signature"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-log",children:"failed to fetch oci chart: unauthorized: authentication required\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Root Cause"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Corporate proxy blocks ",(0,i.jsx)(n.code,{children:"ghcr.io"})]}),"\n",(0,i.jsx)(n.li,{children:"Helm OCI registry auth issues"}),"\n",(0,i.jsx)(n.li,{children:"Network/DNS problems"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Resolution Steps"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Verify registry reachability:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"curl -I https://ghcr.io || true\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Ensure Helm supports OCI (Helm 3+ does)."}),"\n",(0,i.jsx)(n.li,{children:"If auth is required in your environment, perform registry login:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"helm registry login ghcr.io\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsx)(n.li,{children:"Retry installation."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Prevention"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Document proxy and registry requirements up front"}),"\n",(0,i.jsx)(n.li,{children:"Provide \u201coffline mirror\u201d instructions for restricted environments"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Related Commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'helm version\r\nhelm upgrade --install ks-core oci://ghcr.io/kubestellar/kubestellar/core-chart --version "$kubestellar_version"\n'})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"issue-3-context-creation-fails",children:"Issue #3: Context Creation Fails"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptoms"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"kflex ctx --overwrite-existing-context wds1"})," fails"]}),"\n",(0,i.jsx)(n.li,{children:"Context points to the wrong cluster"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Log Signature"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-log",children:"error: hosting context not set\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Root Cause"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"KubeFlex \u201chosting cluster\u201d extension state in kubeconfig is missing or wrong"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Resolution Steps"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Switch to the hosting cluster context (e.g., ",(0,i.jsx)(n.code,{children:"kind-kubeflex"}),")."]}),"\n",(0,i.jsx)(n.li,{children:"Set hosting context:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kflex ctx --set-current-for-hosting\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsx)(n.li,{children:"Recreate contexts:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kflex ctx --overwrite-existing-context its1\r\nkflex ctx --overwrite-existing-context wds1\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Prevention"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Always run ",(0,i.jsx)(n.code,{children:"kflex ctx --set-current-for-hosting"})," after (re)installing via Helm"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Related Commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl config get-contexts\r\nkflex version\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"issue-4-version-compatibility-issues",children:"Issue #4: Version Compatibility Issues"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptoms"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Pre-req checks fail"}),"\n",(0,i.jsx)(n.li,{children:"Controllers crashloop after install"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Log Signature"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-log",children:"structured version ... is less than required minimum\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Root Cause"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"clusteradm"})," version is incompatible (too old or too new)"]}),"\n",(0,i.jsx)(n.li,{children:"Mixed versions across KubeStellar/KubeFlex"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Resolution Steps"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Run the upstream pre-req checker:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'bash <(curl -s https://raw.githubusercontent.com/kubestellar/kubestellar/"$kubestellar_version"/scripts/check_pre_req.sh) kflex ocm helm kubectl docker kind\n'})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Align tool versions to the documented matrix (release notes)."}),"\n",(0,i.jsx)(n.li,{children:"Reinstall if necessary."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Prevention"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Pin versions in docs and scripts"}),"\n",(0,i.jsx)(n.li,{children:"Add a \u201cknown good\u201d quickstart toolchain block"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Related Commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"clusteradm version\r\nkflex version\r\nkubectl version --client\r\nhelm version\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"issue-5-bindingpolicy-not-working",children:"Issue #5: BindingPolicy Not Working"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptoms"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"kubectl apply -f bindingpolicy.yaml"})," fails"]}),"\n",(0,i.jsx)(n.li,{children:"API server says kind not recognized"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Log Signature"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-log",children:'no matches for kind "BindingPolicy" in version "control.kubestellar.io/v1alpha1"\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Root Cause"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"KubeStellar CRDs not installed in the WDS"}),"\n",(0,i.jsx)(n.li,{children:"You are applying to the wrong context (not WDS)"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Resolution Steps"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Confirm you are in the WDS context:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl config current-context\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Check CRDs (in WDS):"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl api-resources | grep -i kubestellar\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsx)(n.li,{children:"If missing, verify core installation completed and WDS exists; re-run Helm install if needed."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Prevention"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Add \u201ccontext sanity check\u201d callouts in docs"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Related Commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get crd | grep kubestellar || true\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"issue-6-bindingpolicy-not-matching-objects",children:"Issue #6: BindingPolicy Not Matching Objects"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptoms"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"BindingPolicy"})," exists, but ",(0,i.jsx)(n.strong,{children:"nothing is selected"})," (no objects downsynced)"]}),"\n",(0,i.jsxs)(n.li,{children:["The generated ",(0,i.jsx)(n.code,{children:"Binding"})," shows ",(0,i.jsx)(n.strong,{children:"zero workload objects"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Log Signature"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-log",children:"no objects matched objectSelectors\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Root Cause"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Workload labels don\u2019t match ",(0,i.jsx)(n.code,{children:"objectSelectors"})]}),"\n",(0,i.jsx)(n.li,{children:"Objects exist in a different namespace than you assumed"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"resources"})," list doesn\u2019t include the kinds you expected"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Resolution Steps"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Confirm the workload labels in the ",(0,i.jsx)(n.strong,{children:"WDS"}),":"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl --context wds1 get deploy -A --show-labels\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Inspect your policy:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl --context wds1 get bindingpolicy -A -o yaml | head -n 120\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:["Inspect the generated ",(0,i.jsx)(n.code,{children:"Binding"})," (concrete matches):"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl --context wds1 get bindings -A\r\nkubectl --context wds1 describe binding -n <ns> <binding-name>\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsx)(n.li,{children:"Fix labels to match (either the workload or the policy)."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Prevention"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Standardize on ",(0,i.jsx)(n.code,{children:"app.kubernetes.io/name"})," and ",(0,i.jsx)(n.code,{children:"app.kubernetes.io/part-of"})]}),"\n",(0,i.jsx)(n.li,{children:"Add a \u201clabel checklist\u201d section to your quickstart"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Related Commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl --context wds1 get deploy -A --show-labels\r\nkubectl --context wds1 get bindingpolicies -A\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"issue-7-bindingpolicy-not-matching-clusters",children:"Issue #7: BindingPolicy Not Matching Clusters"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptoms"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Workloads go to ",(0,i.jsx)(n.strong,{children:"no clusters"})," (or the wrong set)"]}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Binding"})," shows ",(0,i.jsx)(n.strong,{children:"0 matched clusters"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Log Signature"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-log",children:"clusterSelectors matched 0 clusters\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Root Cause"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"ManagedCluster"})," objects in the ITS are not labeled as expected"]}),"\n",(0,i.jsx)(n.li,{children:"You\u2019re inspecting/labeling a different ITS than the one used for transport"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Resolution Steps"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Inspect cluster labels (ITS context):"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get managedclusters --context its1 --show-labels\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Add or fix labels:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl label managedcluster --context its1 cluster1 location-group=edge --overwrite\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsxs)(n.li,{children:["Re-evaluate ",(0,i.jsx)(n.code,{children:"clusterSelectors"}),"."]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Prevention"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Establish a standard label taxonomy: ",(0,i.jsx)(n.code,{children:"environment"}),", ",(0,i.jsx)(n.code,{children:"region"}),", ",(0,i.jsx)(n.code,{children:"location-group"}),", ",(0,i.jsx)(n.code,{children:"provider"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Related Commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl describe managedcluster --context its1 cluster1\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"issue-8-namespace-missing-on-wecs",children:"Issue #8: Namespace Exists in WDS but Not on WECs"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptoms"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Workload objects appear on WECs ",(0,i.jsx)(n.strong,{children:"partially"})]}),"\n",(0,i.jsx)(n.li,{children:"Namespaced resources fail because the namespace doesn\u2019t exist"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Log Signature"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-log",children:'namespaces "demo" not found\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Root Cause"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"BindingPolicy"})," doesn\u2019t include ",(0,i.jsx)(n.code,{children:"namespaces"})," in ",(0,i.jsx)(n.code,{children:"resources"})]}),"\n",(0,i.jsxs)(n.li,{children:["Using ",(0,i.jsx)(n.code,{children:"createOnly"})," clauses incorrectly"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Resolution Steps"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Add ",(0,i.jsx)(n.code,{children:"namespaces"})," to policy downsync resources:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"downsync:\r\n- objectSelectors:\r\n  - matchLabels:\r\n      app.kubernetes.io/name: nginx\r\n  resources:\r\n  - namespaces\r\n  - deployments\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Re-apply BindingPolicy and wait for sync."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Prevention"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Always include ",(0,i.jsx)(n.code,{children:"namespaces"})," when downsyncing namespaced objects into new namespaces"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Related Commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get ns --context cluster1 | grep demo || true\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"issue-9-status-collection-not-working",children:"Issue #9: Status Collection Not Working"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptoms"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Workloads deploy to WECs, but ",(0,i.jsx)(n.strong,{children:"status in WDS"})," is missing/stale"]}),"\n",(0,i.jsx)(n.li,{children:"You can see pods on WECs, but WDS does not reflect progress"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Log Signature"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-log",children:"WorkStatus not found / CombinedStatus missing results\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Root Cause"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Status add-on components not healthy in ITS/WEC"}),"\n",(0,i.jsx)(n.li,{children:"Agent cannot report status (RBAC/network)"}),"\n",(0,i.jsx)(n.li,{children:"Collector configuration missing/misconfigured (depending on setup)"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Resolution Steps"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsxs)(n.li,{children:["Verify WECs are ",(0,i.jsx)(n.code,{children:"Available"})," in the ITS:"]}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl --context its1 get managedclusters\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Check for status-related objects in ITS (names vary by setup):"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl --context its1 get workstatus -A || true\r\nkubectl --context its1 get appliedmanifestworks -A || true\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsx)(n.li,{children:"Check OCM agent + addon pods on the WEC:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:'kubectl --context cluster1 get pods -A | findstr /i "open-cluster-management" || true\n'})}),"\n",(0,i.jsxs)(n.ol,{start:"4",children:["\n",(0,i.jsx)(n.li,{children:"Inspect transport/controller logs in the hosting cluster:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl logs -n kubeflex-system -l app=transport-controller --tail=200\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Prevention"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Include \u201cstatus expectations\u201d and verification checks in quickstart"}),"\n",(0,i.jsx)(n.li,{children:"Provide a \u201cknown-good\u201d status validation script"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Related Commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl --context wds1 get bindings -A\r\nkubectl --context its1 get managedclusters\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"issue-10-workload-synchronization-issues",children:"Issue #10: Workload Synchronization Issues"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptoms"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Changes in WDS take minutes to appear on WECs"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Log Signature"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-log",children:"requeueing due to backoff\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Root Cause"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Resource pressure on controllers"}),"\n",(0,i.jsx)(n.li,{children:"High API server latency"}),"\n",(0,i.jsx)(n.li,{children:"Many objects/clusters causing scaling pressure"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Resolution Steps"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Check controller pod health and CPU/memory:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl top pods -n kubeflex-system || true\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Reduce noise: limit selectors, reduce object scope, test with a small workload."}),"\n",(0,i.jsx)(n.li,{children:"Scale controller deployments if appropriate (prototype note)."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Prevention"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Provide sizing guidance for demo vs production"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Related Commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get deploy -n kubeflex-system\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"issue-11-crd-synchronization-problems",children:"Issue #11: CRD Synchronization Problems"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptoms"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"CustomResources fail to apply on WEC"}),"\n",(0,i.jsx)(n.li,{children:"WEC reports unknown kind"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Log Signature"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-log",children:'no matches for kind "Foo" in version "example.com/v1"\n'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Root Cause"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"CRD not installed on WECs"}),"\n",(0,i.jsx)(n.li,{children:"Ordering issue: CRs delivered before CRDs"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Resolution Steps"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Ensure CRDs are installed/synced before CRs."}),"\n",(0,i.jsx)(n.li,{children:"Add a policy clause for CRDs first (or pre-install CRDs on WECs)."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Prevention"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Document CRD-first ordering strategy"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Related Commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get crd --context cluster1 | grep example.com || true\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"issue-12-helm-chart-deployment-issues",children:"Issue #12: Helm Chart Deployment Issues"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptoms"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Helm releases inconsistent across WECs"}),"\n",(0,i.jsx)(n.li,{children:"Values differ unintentionally"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Log Signature"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-log",children:"Error: rendered manifests contain a resource that already exists\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Root Cause"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Chart assumptions conflict with existing resources"}),"\n",(0,i.jsx)(n.li,{children:"Namespace collisions"}),"\n",(0,i.jsx)(n.li,{children:"Different cluster capabilities"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Resolution Steps"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Use a dedicated namespace per release."}),"\n",(0,i.jsx)(n.li,{children:"Ensure consistent value overrides for cluster-specific needs."}),"\n",(0,i.jsx)(n.li,{children:"Validate with a single WEC first."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Prevention"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Provide \u201cHelm distribution pattern\u201d docs and templates"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Related Commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"helm list -A --kube-context cluster1\r\nhelm list -A --kube-context cluster2\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"issue-13-transform-configuration-errors",children:"Issue #13: Transform Configuration Errors"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptoms"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Objects reach WECs but are malformed or rejected"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Log Signature"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-log",children:"admission webhook denied the request: validation failed\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Root Cause"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Transform template produces invalid YAML/fields"}),"\n",(0,i.jsx)(n.li,{children:"WEC has stricter policies (PSA, Gatekeeper)"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Resolution Steps"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Validate manifests produced by transforms."}),"\n",(0,i.jsx)(n.li,{children:"Check WEC admission policies."}),"\n",(0,i.jsx)(n.li,{children:"Start with minimal transforms and iterate."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Prevention"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Provide \u201ctransform testing harness\u201d instructions"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Related Commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get customtransforms -A || true\r\nkubectl logs -n kubeflex-system -l app=transport-controller\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"issue-14-network-policies-blocking-traffic",children:"Issue #14: Network Policies Blocking Traffic"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptoms"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"WEC agents can\u2019t reach ITS"}),"\n",(0,i.jsx)(n.li,{children:"Workloads can\u2019t reach dependencies"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Log Signature"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-log",children:"i/o timeout\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Root Cause"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Default-deny NetworkPolicy in critical namespaces"}),"\n",(0,i.jsx)(n.li,{children:"Egress blocked to ITS endpoint"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Resolution Steps"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"List NetworkPolicies on WEC:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get networkpolicy -A --context cluster1\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Allow required egress for OCM agents and workloads."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Prevention"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Document baseline network policy requirements"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Related Commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get pods -n open-cluster-management-agent --context cluster1\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"issue-15-ocm-agent-connection-issues",children:"Issue #15: OCM Agent Connection Issues"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptoms"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"ManagedCluster goes Offline"}),"\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"open-cluster-management-agent"})," pods restarting"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Log Signature"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-log",children:"failed to get bootstrap kubeconfig\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Root Cause"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Token expired/invalid"}),"\n",(0,i.jsx)(n.li,{children:"Hub endpoint changed"}),"\n",(0,i.jsx)(n.li,{children:"RBAC issues on WEC"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Resolution Steps"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Inspect agent pods:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get pods -n open-cluster-management-agent --context cluster1\r\nkubectl logs -n open-cluster-management-agent --context cluster1 -l app=klusterlet --tail=200\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Re-join the WEC with a fresh token if needed."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Prevention"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Rotate tokens carefully; document rejoin procedure"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Related Commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"clusteradm get token --context its1\r\nclusteradm join --help\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"issue-16-auth-authorization",children:"Issue #16: Authentication/Authorization Errors"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptoms"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:[(0,i.jsx)(n.code,{children:"Forbidden"})," when reading/writing resources in WDS/ITS"]}),"\n",(0,i.jsx)(n.li,{children:"Setup steps fail even though contexts exist"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Log Signature"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-log",children:"Error from server (Forbidden): ... is forbidden: User ... cannot ...\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Root Cause"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Missing RBAC in WDS/ITS"}),"\n",(0,i.jsx)(n.li,{children:"Wrong kubeconfig context/user identity"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Resolution Steps"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Confirm identity:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl auth whoami || true\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Check access:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl auth can-i create bindingpolicies.control.kubestellar.io -A\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsx)(n.li,{children:"Fix RBAC or use a privileged context for setup."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Prevention"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Provide pre-made RBAC roles for common personas (platform admin, app team)"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Related Commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get clusterrolebinding | head\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"issue-17-multi-tenancy-conflicts",children:"Issue #17: Multi-Tenancy Conflicts (Quota + Namespace)"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptoms"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Pods not created; events mention ",(0,i.jsx)(n.strong,{children:"quota exceeded"})]}),"\n",(0,i.jsx)(n.li,{children:"Unexpected collisions from shared namespaces"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Log Signature"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-log",children:"exceeded quota: compute-resources\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Root Cause"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Namespace quotas too strict on a WEC"}),"\n",(0,i.jsx)(n.li,{children:"Multiple teams targeting the same namespace/resource names"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Resolution Steps"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Inspect ResourceQuota:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get resourcequota -n demo --context cluster1 -o yaml\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Increase quota or reduce requested resources."}),"\n",(0,i.jsx)(n.li,{children:"Adopt unique namespaces per team/app and consistent naming."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Prevention"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Provide recommended quotas for tutorial namespaces"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Related Commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl describe quota -n demo --context cluster1\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"issue-18-storage-issues",children:"Issue #18: Storage Issues"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptoms"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Pods stuck ",(0,i.jsx)(n.code,{children:"Pending"})," due to PVC issues"]}),"\n",(0,i.jsxs)(n.li,{children:["Events show missing ",(0,i.jsx)(n.code,{children:"StorageClass"})," or volume provisioning failures"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Log Signature"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-log",children:"failed to provision volume with StorageClass\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Root Cause"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["No default ",(0,i.jsx)(n.code,{children:"StorageClass"})," on the WEC"]}),"\n",(0,i.jsx)(n.li,{children:"Cloud CSI not installed / misconfigured"}),"\n",(0,i.jsx)(n.li,{children:"Storage policies block provisioning"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Resolution Steps"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Check PVC events:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl --context cluster1 get pvc -A\r\nkubectl --context cluster1 describe pvc -n <ns> <pvc-name>\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Check StorageClasses:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl --context cluster1 get storageclass\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsx)(n.li,{children:"Install/enable a CSI driver or set a default StorageClass."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Prevention"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Validate WEC baseline capabilities before onboarding (CNI + DNS + StorageClass)"}),"\n",(0,i.jsx)(n.li,{children:"Provide \u201cWEC readiness checks\u201d in onboarding docs"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Related Commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get ns --context cluster1\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"issue-19-upgrade-problems",children:"Issue #19: Upgrade Problems"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptoms"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"After upgrade, policies stop syncing or controllers crashloop"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Log Signature"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-log",children:"failed to decode object: unknown field\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Root Cause"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"CRD schema changes"}),"\n",(0,i.jsx)(n.li,{children:"Mixed controller versions across components"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Resolution Steps"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Review release notes and upgrade path."}),"\n",(0,i.jsx)(n.li,{children:"Upgrade CRDs first if required."}),"\n",(0,i.jsx)(n.li,{children:"Restart controller deployments after upgrade."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Prevention"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Provide explicit upgrade playbooks + compatibility notes"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Related Commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"helm history ks-core\r\nkubectl rollout status deploy -n kubeflex-system --all\n"})}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h3,{id:"issue-20-cleanup-and-uninstallation",children:"Issue #20: Cleanup and Uninstallation"}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Symptoms"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Reinstall fails due to leftover resources"}),"\n",(0,i.jsx)(n.li,{children:"Old contexts remain in kubeconfig"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Log Signature"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-log",children:"cannot re-use a name that is still in use\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Root Cause"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Kind/k3d clusters still exist"}),"\n",(0,i.jsx)(n.li,{children:"Helm release not fully removed"}),"\n",(0,i.jsx)(n.li,{children:"kubeconfig contexts not deleted"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Resolution Steps"}),":"]}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Remove Helm release:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"helm uninstall ks-core || true\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"2",children:["\n",(0,i.jsx)(n.li,{children:"Delete demo clusters and contexts:"}),"\n"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kind delete cluster --name kubeflex || true\r\nkind delete cluster --name cluster1 || true\r\nkind delete cluster --name cluster2 || true\r\nkubectl config delete-context its1 || true\r\nkubectl config delete-context wds1 || true\n"})}),"\n",(0,i.jsxs)(n.ol,{start:"3",children:["\n",(0,i.jsx)(n.li,{children:"Re-run install from scratch."}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Prevention"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Provide a one-command cleanup script for demos"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Related Commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl config get-contexts\r\nhelm list -A\n"})})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(a,{...e})}):a(e)}},8453(e,n,s){s.d(n,{R:()=>c,x:()=>t});var l=s(6540);const i={},r=l.createContext(i);function c(e){const n=l.useContext(r);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),l.createElement(r.Provider,{value:n},e.children)}}}]);