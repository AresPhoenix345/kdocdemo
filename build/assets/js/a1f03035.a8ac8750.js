"use strict";(globalThis.webpackChunkkubestellar_docs_initiative=globalThis.webpackChunkkubestellar_docs_initiative||[]).push([[9358],{5557(e,n,s){s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>l,default:()=>a,frontMatter:()=>c,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"troubleshooting/error-reference","title":"Error Reference","description":"This page is a quick \u201clookup table\u201d for common error signatures you\u2019ll see while working with KubeStellar, especially during setup and first syncs.","source":"@site/docs/troubleshooting/error-reference.md","sourceDirName":"troubleshooting","slug":"/troubleshooting/error-reference","permalink":"/docs/troubleshooting/error-reference","draft":false,"unlisted":false,"editUrl":"https://github.com/kubestellar/kubestellar/edit/main/kdemo/docs/troubleshooting/error-reference.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Common Issues (20)","permalink":"/docs/troubleshooting/common-issues"},"next":{"title":"Use Cases","permalink":"/docs/use-cases/"}}');var i=s(4848),o=s(8453);const c={},l="Error Reference",t={},d=[{value:"How to Use This Page",id:"how-to-use-this-page",level:2},{value:"<code>no matches for kind &quot;BindingPolicy&quot; in version &quot;control.kubestellar.io/v1alpha1&quot;</code>",id:"no-matches-for-kind-bindingpolicy-in-version-controlkubestellariov1alpha1",level:2},{value:"<code>Error from server (Forbidden): ... is forbidden</code>",id:"error-from-server-forbidden--is-forbidden",level:2},{value:"<code>unauthorized: authentication required</code> (Helm / OCI / GHCR)",id:"unauthorized-authentication-required-helm--oci--ghcr",level:2},{value:"<code>connection refused</code> / <code>i/o timeout</code> during <code>clusteradm join</code>",id:"connection-refused--io-timeout-during-clusteradm-join",level:2},{value:"<code>namespaces &quot;&lt;ns&gt;&quot; not found</code>",id:"namespaces-ns-not-found",level:2},{value:"<code>FailedScheduling</code> / <code>insufficient cpu</code> / <code>insufficient memory</code>",id:"failedscheduling--insufficient-cpu--insufficient-memory",level:2},{value:"<code>failed to decode object: unknown field</code>",id:"failed-to-decode-object-unknown-field",level:2},{value:"<code>hosting context not set</code> (kflex)",id:"hosting-context-not-set-kflex",level:2}];function h(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"error-reference",children:"Error Reference"})}),"\n",(0,i.jsx)(n.p,{children:"This page is a quick \u201clookup table\u201d for common error signatures you\u2019ll see while working with KubeStellar, especially during setup and first syncs."}),"\n",(0,i.jsx)(n.h2,{id:"how-to-use-this-page",children:"How to Use This Page"}),"\n",(0,i.jsxs)(n.ol,{children:["\n",(0,i.jsx)(n.li,{children:"Copy the error string (or the most unique part of it)."}),"\n",(0,i.jsx)(n.li,{children:"Find the closest matching signature below."}),"\n",(0,i.jsx)(n.li,{children:"Run the \u201cNext commands\u201d block to gather the minimum useful diagnostics."}),"\n",(0,i.jsxs)(n.li,{children:["Jump to the relevant entry in ",(0,i.jsx)(n.strong,{children:(0,i.jsx)(n.a,{href:"/docs/troubleshooting/common-issues",children:"Common Issues"})}),"."]}),"\n"]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"no-matches-for-kind-bindingpolicy-in-version-controlkubestellariov1alpha1",children:(0,i.jsx)(n.code,{children:'no matches for kind "BindingPolicy" in version "control.kubestellar.io/v1alpha1"'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Meaning"}),": The KubeStellar CRDs aren\u2019t available in the API server you\u2019re talking to (or you\u2019re on the wrong context)."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Likely Causes"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"You\u2019re applying to a WEC or hosting cluster context (not the WDS)"}),"\n",(0,i.jsx)(n.li,{children:"WDS isn\u2019t created/initialized yet"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Next commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl config current-context\r\nkubectl api-resources | grep -i kubestellar || true\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"See"}),": Issue #5 in ",(0,i.jsx)(n.code,{children:"common-issues.md"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"error-from-server-forbidden--is-forbidden",children:(0,i.jsx)(n.code,{children:"Error from server (Forbidden): ... is forbidden"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Meaning"}),": RBAC denied your request."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Likely Causes"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Using a low-privilege kubeconfig identity"}),"\n",(0,i.jsx)(n.li,{children:"Missing role/rolebinding or clusterrolebinding"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Next commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl config current-context\r\nkubectl auth can-i create bindingpolicies.control.kubestellar.io -A\r\nkubectl auth can-i get managedclusters -A --context its1 || true\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"See"}),": Issue #16."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"unauthorized-authentication-required-helm--oci--ghcr",children:[(0,i.jsx)(n.code,{children:"unauthorized: authentication required"})," (Helm / OCI / GHCR)"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Meaning"}),": Helm couldn\u2019t pull an OCI chart from GHCR due to auth."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Likely Causes"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Registry requires login (enterprise policy)"}),"\n",(0,i.jsx)(n.li,{children:"Proxy rewriting requests"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Next commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"helm version\r\nhelm registry login ghcr.io\r\ncurl -I https://ghcr.io || true\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"See"}),": Issue #2."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"connection-refused--io-timeout-during-clusteradm-join",children:[(0,i.jsx)(n.code,{children:"connection refused"})," / ",(0,i.jsx)(n.code,{children:"i/o timeout"})," during ",(0,i.jsx)(n.code,{children:"clusteradm join"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Meaning"}),": The WEC can\u2019t reach the ITS/hub endpoint (or it\u2019s wrong)."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Likely Causes"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Wrong hub apiserver address"}),"\n",(0,i.jsx)(n.li,{children:"Firewall/proxy/network policy blocking traffic"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Next commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl config view -o jsonpath='{.clusters[?(@.name==\"its1\")].cluster.server}'\r\necho\r\nkubectl get managedclusters --context its1\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"See"}),": Issue #1 and #14."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"namespaces-ns-not-found",children:(0,i.jsx)(n.code,{children:'namespaces "<ns>" not found'})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Meaning"}),": A namespaced object arrived without its namespace."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Likely Causes"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["BindingPolicy downsync doesn\u2019t include ",(0,i.jsx)(n.code,{children:"namespaces"})]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Next commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get bindingpolicy -A -o yaml | head -n 80\r\nkubectl get ns --context cluster1 | head\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"See"}),": Issue #8."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"failedscheduling--insufficient-cpu--insufficient-memory",children:[(0,i.jsx)(n.code,{children:"FailedScheduling"})," / ",(0,i.jsx)(n.code,{children:"insufficient cpu"})," / ",(0,i.jsx)(n.code,{children:"insufficient memory"})]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Meaning"}),": The WEC can\u2019t schedule pods due to capacity constraints."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Likely Causes"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Small local clusters (kind/k3d) with low resources"}),"\n",(0,i.jsx)(n.li,{children:"Too many clusters on a laptop"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Next commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl get nodes --context cluster1\r\nkubectl get pods -n demo --context cluster1\r\nkubectl describe pod -n demo --context cluster1 -l app.kubernetes.io/name=nginx\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"See"}),": Issue #9."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"failed-to-decode-object-unknown-field",children:(0,i.jsx)(n.code,{children:"failed to decode object: unknown field"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Meaning"}),": Version skew\u2014client/controller/CRD schemas don\u2019t match."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Likely Causes"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsx)(n.li,{children:"Upgraded controllers but not CRDs (or vice versa)"}),"\n",(0,i.jsx)(n.li,{children:"Stale objects using old schema"}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Next commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"helm list -A\r\nhelm history ks-core || true\r\nkubectl get crd | grep -i kubestellar || true\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"See"}),": Issue #19."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsxs)(n.h2,{id:"hosting-context-not-set-kflex",children:[(0,i.jsx)(n.code,{children:"hosting context not set"})," (kflex)"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Meaning"}),": KubeFlex CLI doesn\u2019t know which cluster is \u201chosting\u201d."]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Likely Causes"}),":"]}),"\n",(0,i.jsxs)(n.ul,{children:["\n",(0,i.jsxs)(n.li,{children:["Haven\u2019t run ",(0,i.jsx)(n.code,{children:"kflex ctx --set-current-for-hosting"})," after install"]}),"\n"]}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Next commands"}),":"]}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"kubectl config current-context\r\nkflex ctx --set-current-for-hosting\r\nkubectl config get-contexts | head\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"See"}),": Issue #3."]})]})}function a(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}},8453(e,n,s){s.d(n,{R:()=>c,x:()=>l});var r=s(6540);const i={},o=r.createContext(i);function c(e){const n=r.useContext(o);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),r.createElement(o.Provider,{value:n},e.children)}}}]);